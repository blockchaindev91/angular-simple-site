<mat-card *ngIf="authService.getUser() | async as user; else login" id="user-card">
  <mat-card-title>
    {{user.firstName}}
    <mat-icon fontSet="material-icons-outlined">
      settings
    </mat-icon>
  </mat-card-title>
  <mat-card-content>
    <div class="progress-bar-container">
      <div class="level-name">
        {{ 'user-card.level' | translate }} 
        <span class="level">
          {{ currentLevel }}
        </span>
      </div>
      <mat-progress-bar mode="determinate" value="{{ currentProgress }}"></mat-progress-bar>
      <div class="next-level">
          {{ remainingReports }} {{ 'user-card.remaining-xp' | translate }}
      </div>
      <div *ngIf="totalPages>1 && expanded" style="float:right; color: #9DA9A0;">Seite {{page}} von {{totalPages}}</div>
      <div *ngIf="!expanded" class="ellipsis">
        {{ user.username }}<br />
        <a class="mat-primary" (click)="authService.logout()">{{
          "user-card.logout" | translate
        }}</a><br />
        <a class="mat-primary" (click)="showNotification()">Show</a>
      </div>
    </div>
    </mat-card-content>
  <div class="corner bottom-right"></div>
</mat-card>
<ng-template #login>
  <mat-card id="user-card">
    <mat-card-title>
      {{ 'user-card.guest' | translate }}
      <mat-icon fontSet="material-icons-outlined">
        settings
      </mat-icon>
    </mat-card-title>

    <a class="mat-primary" (click)="authService.login()">{{ 'user-card.login' | translate }}</a><br>
    <a class="mat-primary" (click)="authService.register()">{{ 'user-card.register' | translate }}</a>
  </mat-card>
</ng-template>
