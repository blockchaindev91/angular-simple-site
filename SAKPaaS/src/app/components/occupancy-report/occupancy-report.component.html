<ng-container *ngIf="selectedLocation$ | async as location">
    <div class="container">
        <h2 class="title">Wie voll ist <span class="title-accent">{{ location.name }}</span>?</h2>
        <mat-radio-group [formControl]="occupancyInput">
            <div class="radio" (click)="setRadioButton('0.33')">
                <mat-radio-button [value]="'0.33'"></mat-radio-button>
                <div class="radio-text">
                    <img src="assets/icons/icon-availability-low.svg">
                    <div class="occupancy-title">
                        Fast leer
                    </div>
                    <div class="occupancy-description">
                        Wartezeit an der Kasse weniger als 5 Minuten <br>
                        Sicherheitsabstand von 1,5 Metern garantiert
                    </div>
                </div>
            </div>
            <mat-divider></mat-divider>
            <div class="radio" (click)="setRadioButton('0.66')">
                <mat-radio-button [value]="'0.66'"></mat-radio-button>
                <div class="radio-text">
                    <img src="assets/icons/icon-availability-moderate.svg">
                    <div class="occupancy-title">
                        Mittelmäßig ausgelastet
                    </div>
                    <div class="occupancy-description">
                        Wartezeit an der Kasse zwischen 5 Minuten bis 15 Minuten<br>
                        Sicherheitsabstand von 1,5 Metern meistens garantiert
                    </div>
                </div>
            </div>
            <mat-divider></mat-divider>
            <div class="radio" (click)="setRadioButton('0.99')">
                <mat-radio-button [value]="'0.99'"></mat-radio-button>
                <div class="radio-text">
                    <img src="assets/icons/icon-availability-full.svg">
                    <div class="occupancy-title">
                        Voll ausgelastet <span class="warning-accent"> Warnung!</span>
                    </div>
                    <div class="occupancy-description">
                        Wartezeit an der Kasse mehr als 15 Minuten<br>
                        Sicherheitsabstand von 1,5 Metern nicht garantiert
                    </div>
                </div>
            </div>
        </mat-radio-group>
        <button mat-raised-button class="submit" (click)="onSubmit()" swIsLoading="'sendOccupancy'">
            <span *ngIf="!('sendOccupancy' | swIsLoading | async)">Abschicken </span>
            <span *ngIf="'sendOccupancy' | swIsLoading | async">
                Wird abgeschickt ...
                <mat-icon style="margin-top: -7px; margin-left: 20px;">
                    <mat-spinner diameter="30"></mat-spinner>
                </mat-icon>
            </span>
        </button>
    </div>
</ng-container>
