<ng-container *ngIf="selectedLocation$ | async as location">
    <div class="container">
        <div class="header">
            <button mat-icon-button color="primary" aria-label="back to home button" class="backButton" href="." [routerLink]="['/home']" [queryParams]="{ id: location.id }">
                <mat-icon>arrow_back</mat-icon>
              </button>
            <h2 class="title">{{ 'occupancy-report.title' | translate }}<span class="title-accent">{{ location.name }}</span>?</h2>
            <div class="hiddenBackButton"></div>
        </div>
        <mat-radio-group [formControl]="occupancyInput">
            <div class="radio" (click)="setRadioButton('0.33')">
                <mat-radio-button [value]="'0.33'"></mat-radio-button>
                <div class="radio-text">
                    <img src="assets/icons/icon-availability-low.svg">
                    <div class="occupancy-title">
                        {{ 'occupancy.low.text' | translate }}
                    </div>
                    <div class="occupancy-description">
                      {{ 'occupancy.low.checkout-time' | translate }} <br>
                      {{ 'occupancy.low.safety-distance' | translate }}
                    </div>
                </div>
            </div>
            <mat-divider></mat-divider>
            <div class="radio" (click)="setRadioButton('0.66')">
                <mat-radio-button [value]="'0.66'"></mat-radio-button>
                <div class="radio-text">
                    <img src="assets/icons/icon-availability-moderate.svg">
                    <div class="occupancy-title">
                      {{ 'occupancy.medium.text' | translate }}
                    </div>
                    <div class="occupancy-description">
                      {{ 'occupancy.medium.checkout-time' | translate }} <br>
                      {{ 'occupancy.medium.safety-distance' | translate }}
                    </div>
                </div>
            </div>
            <mat-divider></mat-divider>
            <div class="radio" (click)="setRadioButton('0.99')">
                <mat-radio-button [value]="'0.99'"></mat-radio-button>
                <div class="radio-text">
                    <img src="assets/icons/icon-availability-full.svg">
                    <div class="occupancy-title">
                      {{ 'occupancy.high.text' | translate }} <span class="warning-accent"> {{ 'others.warning' | translate }}</span>
                    </div>
                        Voll ausgelastet <mat-icon color="accent" class="warning-icon">warning</mat-icon>
                    </div>
                    </div>
                </div>
            </div>
        </mat-radio-group>
        <a class="backLink" href="." [routerLink]="['/home']" [queryParams]="{ id: location.id }">{{ 'others.not-here' | translate }}</a>
        <button mat-raised-button class="submit" (click)="onSubmit()" swIsLoading="'sendOccupancy'">
            <span *ngIf="!('sendOccupancy' | swIsLoading | async)">{{ 'others.submit' | translate }}</span>
            <span *ngIf="'sendOccupancy' | swIsLoading | async">
                {{ 'others.pending' | translate }}
                <mat-icon style="margin-top: -7px; margin-left: 20px;">
                    <mat-spinner diameter="30"></mat-spinner>
                </mat-icon>
            </span>
        </button>
    </div>
</ng-container>
